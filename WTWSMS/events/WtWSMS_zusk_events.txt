#########################
#
#    Written by Zusk
#
########################

namespace = zusk_event
character_event = {
	id = zusk_event.1
	desc = zusk_event.1.desc
	picture = GFX_evt_monk
	border = GFX_event_normal_frame_religion
	
	capable_only = yes
	prisoner = no
	min_age = 16
	
	trigger = {
		is_landed = no
		religion = nicene
		NOT = {
			year = 1000
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		      }
        NOT = { trait = zealous }
            OR = {
        culture_group = latin
        culture_group = byzantine
                 }
	}
	
	mean_time_to_happen = {
		years = 2400

                modifier = {
			factor = 0.5
			trait = cynical
		}
		 modifier = {
			factor = 10
			year = 600
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		}
		 modifier = {
			factor = 100
			year = 900
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		}
                modifier = {
			factor = 0.5
			culture = greek
		}
		        modifier = {
			factor = 0.5
			liege = {
            religion_group = pagan_group
					}
		}
	}
	
	option = {
            ai_chance = {
			factor = 50
			modifier = {
				factor = 0.1
				liege = {
			        NOT = { religion_group = pagan_group }
                                NOT = { religion = arian }
                    NOT = { trait = sympathy_pagans }
							}
						}
			}
		name = ZUSK1OP1
		if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_christendom
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical 
					trait = zealous 
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_christendom
			}
		}
		religion = hellenic_pagan
	}

        option = {
		ai_chance = {
			factor = 50
			}
		name = ZUSK1OP2
                if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical 
					trait = zealous 
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_pagans
			}
		}
		random = {
				chance = 50
				add_trait = zealous 
			}
	}
}

character_event = {
	id = zusk_event.2
	desc = zusk_event.2.desc
	picture = GFX_evt_monk
	border = GFX_event_normal_frame_religion
	
	capable_only = yes
	prisoner = no
	min_age = 16
	
	trigger = {
		is_landed = no
		religion = nicene
		NOT = {
			year = 1000
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		      }
        NOT = { trait = zealous }
            OR = {
        culture_group = celtic
		culture = romano_gallic
                 }
	}
	
	mean_time_to_happen = {
		years = 3000

                modifier = {
			factor = 0.5
			trait = cynical
		}
		 modifier = {
			factor = 10
			year = 600
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		}
		 modifier = {
			factor = 100
			year = 900
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		}
		        modifier = {
			factor = 0.5
			liege = {
            religion_group = pagan_group
					}
		}
	}
	
	option = {
            ai_chance = {
			factor = 50
			modifier = {
				factor = 0.1
				liege = {
			        NOT = { religion_group = pagan_group }
                                NOT = { religion = arian }
                    NOT = { trait = sympathy_pagans }
							}
						}
			}
		name = ZUSK2OP1
		if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_christendom
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical 
					trait = zealous 
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_christendom
			}
		}
		religion = celtic_pagan
	}

        option = {
		ai_chance = {
			factor = 50
			}
		name = ZUSK2OP2
                if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical 
					trait = zealous 
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_pagans
			}
		}
		random = {
				chance = 50
				add_trait = zealous 
			}
	}
}

character_event = {
	id = zusk_event.3
	desc = zusk_event.3.desc
	picture = GFX_evt_monk
	border = GFX_event_normal_frame_religion
	
	capable_only = yes
	prisoner = no
	min_age = 16
	
	trigger = {
		is_landed = no
		religion = nicene
		NOT = {
			year = 1000
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		      }
        NOT = { trait = zealous }
		culture = dalmatian
	}
	
	mean_time_to_happen = {
		years = 3000

                modifier = {
			factor = 0.5
			trait = cynical
		}
		 modifier = {
			factor = 10
			year = 600
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		}
		 modifier = {
			factor = 100
			year = 900
			liege = {
            religion_group = christian
            NOT = { religion = arian }
					}
		}
		        modifier = {
			factor = 0.5
			liege = {
            religion_group = pagan_group
					}
		}
	}
	
	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.1
				liege = {
			        NOT = { religion_group = pagan_group }
                                NOT = { religion = arian }
                    NOT = { trait = sympathy_pagans }
							}
						}
			}
		name = ZUSK3OP1
		if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_christendom
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical 
					trait = zealous 
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_christendom
			}
		}
		religion = illyran_pagan
	}

        option = {
		ai_chance = {
			factor = 50
			}
		name = ZUSK3OP2
                if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical 
					trait = zealous 
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_pagans
			}
		}
		random = {
				chance = 50
				add_trait = zealous 
			}
	}
}

province_event = {
	id = zusk_event.4
	desc = zusk_event.4.desc
	picture = GFX_evt_bandits
	
	trigger = {
	    NOT = { has_province_flag = roman_aqueduct }
		NOT = { year = 800 }
		culture_group = latin
		owner = { 
			prisoner = no
			independent = yes
			OR = {
				culture_group = north_germanic
				culture_group = central_germanic
				culture_group = east_germanic
				culture_group = west_germanic
			}
        }
    }
	
	mean_time_to_happen = {
		years = 1000
	}
	
	option = {
		name = ZUSK4OP1
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				owner = {
					liege = {
	                    trait = roman_nostalgia
	                    NOT = { learning = 10 }
				    }
			    }
			}
		}
		set_province_flag = roman_aqueduct
		owner = {
        	prestige = 50
		}
	}
	option = {
		name = ZUSK4OP2
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				owner = {
                    trait = roman_nostalgia
					learning = 10
					    }
						}
			}
		# tooltip_info = learning
		trigger = {
			owner = { 
				learning = 10
			}
		}
		set_province_flag = roman_aqueduct
		owner = {
		        		random_list = {
			33 = { military_techpoints = 50 }
			33 = { economy_techpoints = 50 }
			33 = { culture_techpoints = 50 }
		                              }
		}
	}
	option = {
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				owner = {
                    NOT = { trait = roman_nostalgia }
					    }
						}
			}
		name = ZUSK4OP3
		set_province_flag = roman_aqueduct
		owner = {
		        		treasury = 50
		}
	}
}

character_event = {
	id = zusk_event.5
	desc = zusk_event.5.desc
	picture = GFX_evt_monk
	border = GFX_event_normal_frame_religion
	
	capable_only = yes
	prisoner = no
	min_age = 16
	
	trigger = {
	    NOT = { year = 1200 }
            NOT = { trait = roman_nostalgia }
		OR = {
		culture_group = central_germanic
		culture_group = east_germanic
		culture_group = west_germanic
		culture_group = latin
		culture = romano_british
		     }
	}
	
	mean_time_to_happen = {
		years = 2000

        modifier = {
			factor = 0.9
			trait = just
		}
        modifier = {
			factor = 0.9
			trait = sympathy_christendom
		}
        modifier = {
			factor = 5
			NOT = { religion_group = christian }
			NOT = { religion = hellenic_pagan }
		}
		modifier = {
			factor = 5
			OR = {
				culture_group = central_germanic
		        culture_group = east_germanic
		        culture_group = west_germanic
				 }
				}
		modifier = {
		    factor = 0.2
			OR = {
				culture_group = central_germanic
		        culture_group = east_germanic
		        culture_group = west_germanic
				 }
		OR = {
			tier = emperor
			tier = king
		}
		          }
        modifier = {
			factor = 0.5
			religion = hellenic_pagan
		}
        modifier = {
			factor = 2
			year = 800
		}
        modifier = {
			factor = 5
			year = 900
		}
        modifier = {
			factor = 10
			year = 1000
		}
        modifier = {
			factor = 20
			year = 1100
		}
	}
	
	option = {
		ai_chance = {
			factor = 50
			}
		name = ZUSK5OP1
		add_trait = roman_nostalgia
	}

        option = {
		ai_chance = {
			factor = 50
			}
		name = ZUSK5OP2
}

}

#You want to learn more about Rome!
character_event = {
	id = zusk_event.6
	hide_window = yes
	
	min_age = 6
	max_age = 10
	prisoner = no
	capable_only = yes
	
	trigger = {
		has_guardian = yes
                NOT = { trait = roman_nostalgia }
		guardian = {
			trait = roman_nostalgia
		}
	}
	
        mean_time_to_happen = {
		years = 3
	}

	option = {
		name = ZUSK6OP1
		guardian = {
			character_event = {
				id = zusk_event.7
				tooltip = zusk_event.7.tooltip
			}
		}
	}
}

#Guardian is notified
character_event = {
	id = zusk_event.7
	desc = zusk_event.7.desc
	picture = GFX_evt_guardian
	
	is_triggered_only = yes
	
	option = {
		name = ZUSK7OP1
			add_trait = cynical
		ai_chance = {
			factor = 5
			}
	}
	option = {
		name = ZUSK7OP2
		ai_chance = {
			factor = 95
			}
		FROM = {
			character_event = {
				id = zusk_event.10
				tooltip = zusk_event.10.tooltip
			}
		    random_list = {
		10 = { add_trait = just }
        10 = { add_trait = ambitious }
		                  }
                       }
	}
}

#Guardian is notified
character_event = {
	id = zusk_event.10
	desc = zusk_event.10.desc
	picture = GFX_evt_guardian
	
	is_triggered_only = yes
	
	option = {
		name = ZUSK10OP1
                add_trait = roman_nostalgia
	}
}

# Disband Troops
character_event = {
	id = zusk_event.11
	hide_window = yes
	
	
	is_triggered_only = yes
	
	immediate = {
		disband_event_forces = migration_mark
	}
	
	option = {
		name = OK
	}
}

# Set Migration Flag
character_event = {
	id = zusk_event.12
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
        any_realm_province = {
			limit = { 
				NOT = { has_province_flag = migration_give_away }
          	}
			set_province_flag = migration_give_away
		}
	}
	
	option = {
		name = OK
	}
}

# Give troops
character_event = {
	id = zusk_event.13
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		capital_scope = {
			create_character = {
				random_traits = yes
				dynasty = random
				religion = ROOT
				culture = ROOT
				female = no
				age = 20
			}
			new_character = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = ROOT
					troops = { horse_archers = { 2500 2500 } }
					earmark = mirgation_unit # Used for army name localization
				}
			}
		}
		any_realm_province = {
			limit = {
				has_province_flag = migration_give_away
				OR = {
					culture = ROOT
					religion = ROOT
				}
			} 	
			create_character = {
				random_traits = yes
				dynasty = random
				religion = ROOT
				culture = ROOT
				female = no
				age = 20
			}
			new_character = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = ROOT
					troops = { horse_archers = { 100 100 } }
					earmark = mirgation_unit # Used for army name localization
	     		}
			}
		}
		if  = {
			limit = {
				religion = germanic_pagan
			}
			spawn_fleet = {
				province = closest # closest sea zone
				owner = ROOT
				disband_on_peace = yes
				troops = { galleys = { 200 200 } }
				earmark = mirgation_fleet # Used for army name localization
			}
		}
	}
	
	option = {
		name = OK
	}
}

# Give away for migration
character_event = {
	id = zusk_event.14
	hide_window = yes
	
	
	is_triggered_only = yes
	
	immediate = {
          any_realm_province = {
			limit = {
                has_province_flag = migration_give_away
			}
			county = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = PREV
					culture = PREV
					female = no
					age = 25
					trait = peasant_leader
				}
				new_character = {
					usurp_title_plus_barony_if_unlanded = PREV
					set_defacto_liege = THIS
				}
			}
			clr_province_flag = migration_give_away
		}
	}
	
	option = {
		name = OK
	}
}

# Remove Migration flag without giving away
character_event = {
	id = zusk_event.15
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		# Remove migration flag
		any_realm_province = {
			limit = {
                has_province_flag = migration_give_away
			}
			clr_province_flag = migration_give_away
		}
	}
	
	option = {
		name = OK
	}
}

province_event = {
	id = zusk_event.16
	hide_window = yes
	
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war

	trigger = {
                year = 500
		NOT = { has_global_flag = rouran_arrived }
                province_id = 1423
	}
	
	mean_time_to_happen = {
		years = 20
	}
	
        immediate = {
		set_global_flag = rouran_arrived

         	activate_title = { title = e_rouran status = yes }

		create_character = {
                        name = Nagai
			random_traits = no
			dynasty = 100
			religion = tengri_pagan
                        culture = mongol
			female = no
			age = 45
		}
		
		new_character = {
			save_event_target_as = target_rouran

                        wealth = 500

                        e_rouran = {
			grant_title = PREV
			}
                        set_defacto_liege = THIS

                        c_fergana = {
			grant_title = PREV
			}

			create_character = {
				random_traits = yes
				dynasty = none
				religion = tengri_pagan
				culture = mongol
				female = no
				age = 23
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = mongol
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = mongol
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = mongol
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = mongol
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			
			# DoW on the province top liege
                    1425 = {
			kingdom = {
				event_target:target_rouran = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
	}
	

        }

	option = {
		name = "EVTOPTA_TOG_1000"
	}


}
# Servant of Assur Trait Gained
character_event = {
	id = zusk_event.17
	hide_window = yes
	
	trigger = {
		has_landed_title = e_assyria
                religion = assyrian_pagan
		NOT = { trait = servant_of_assur }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = EVTOPTALoR.45
		add_trait = servant_of_assur
	}
}

# Servant of Assur Trait Lost
character_event = {
	id = zusk_event.18
	hide_window = yes
	
	trigger = {
		trait = servant_of_assur
                OR = {
		NOT = { has_landed_title = e_assyria }
                NOT = { religion = assyrian_pagan }
                     }
		is_alive = yes
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = EVTOPTALoR.46
		remove_trait = servant_of_assur
	}
}

narrative_event = {
	id = zusk_event.19
	title = zusk_event.19.name
	desc = zusk_event.19.desc

	picture = GFX_evt_assyria
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = ZUSK19OP
	}
}

character_event = {
	id = zusk_event.20
	desc = zusk_event.20.desc
	
	picture = GFX_evt_tribal_life
	
	trigger = {
		religion_group = pagan_group
                NOT = { religion = slavic_pagan }
                independent = yes
                OR = {
                culture_group = central_germanic
                culture_group = east_germanic
                culture_group = west_germanic
                is_reformed_religion = no
                      }
		any_realm_province = {
                OR = {
                NOT = { culture = ROOT }
                NOT = { religion = ROOT }
                     }
                                      }
		any_realm_province = {
                AND = {
                culture = ROOT
                religion = ROOT
                NOT = { has_province_modifier = zusk_pagan_timer }
                      }
                                      }
                NOT = { year = 800 }
	}
	
	mean_time_to_happen = {
		years = 50

		modifier = {
			factor = 1.1
			year = 500
		}
		modifier = {
			factor = 1.2
			year = 550
		}
		modifier = {
			factor = 1.4
			year = 600
		}
		modifier = {
			factor = 1.8
			year = 650
		}
		modifier = {
			factor = 2
			year = 700
		}
		modifier = {
			factor = 2.5
			year = 750
		}
	}
	
	option = {
		name = OK
                random_realm_province = {
				limit = {
                                owner = {
                                top_liege = {
						character = ROOT
					}
                                        }
                                OR = {
                                NOT = { culture = ROOT }
                                NOT = { religion = ROOT }
                                        }
                                        }
                               religion = ROOT
                               culture = ROOT
                        add_province_modifier = {
				name = zusk_pagan_timer
				duration = 3600
				hidden = yes
			}
                                        }
                random_realm_province = {
				limit = {
                                owner = {
                                top_liege = {
						character = ROOT
					}
                                        }
                                NOT = { has_province_modifier = zusk_pagan_timer }
                                culture = ROOT
                                religion = ROOT
                                        }
                        add_province_modifier = {
				name = zusk_pagan_timer
				duration = 3600
				hidden = yes
			}
                                        }
	}
}

character_event = {
	id = zusk_event.21
	desc = zusk_event.20.desc
	
	picture = GFX_evt_tribal_life
	
	trigger = {
		religion_group = pagan_group
                NOT = { religion = slavic_pagan }
                independent = yes
                OR = {
                culture_group = central_germanic
                culture_group = east_germanic
                culture_group = west_germanic
                is_reformed_religion = no
                      }
                NOT = {
                any_realm_province = {
                AND = {
                culture = ROOT
                religion = ROOT
                     }
                                      }
                      }
                NOT = { year = 800 }
	}
	
	mean_time_to_happen = {
		years = 50

		modifier = {
			factor = 1.1
			year = 500
		}
		modifier = {
			factor = 1.2
			year = 550
		}
		modifier = {
			factor = 1.4
			year = 600
		}
		modifier = {
			factor = 1.8
			year = 650
		}
		modifier = {
			factor = 2
			year = 700
		}
		modifier = {
			factor = 2.5
			year = 750
		}
	}
	
	option = {
		name = OK
                capital_scope = {
			       religion = ROOT
                               culture = ROOT
                        add_province_modifier = {
				name = zusk_pagan_timer
				duration = 3600
				hidden = yes
			}
			}
                 }
}

#Story Events


# Theodoric Invasion of Italy
character_event = {
	id = zusk_event.22
	desc = zusk_event.22.desc
	
	picture = GFX_evt_heretic
	
	is_triggered_only = yes
	
	option = {
		name = ZUSK22OP1
                       add_claim = e_italy
                       set_character_flag = give_italy_if_win
			spawn_unit = {
				province = 460 # Varazdin
				owner = ROOT
				leader = ROOT
				match_character = ROOT
				match_mult = 0.75
				attrition = 0.5
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = ROOT
				culture = ROOT
				female = no
				age = 23
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = 460 # Varazdin
					owner = ROOT
					leader = THIS
					match_character = ROOT
					match_mult = 0.75
					attrition = 0.5
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = ROOT
				culture = ROOT
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = 460 # Varazdin
					owner = ROOT
					leader = THIS
					match_character = ROOT
					match_mult = 0.75
					attrition = 0.5
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = ROOT
				culture = ROOT
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = 460 # Varazdin
					owner = ROOT
					leader = THIS
					match_character = ROOT
					match_mult = 0.75
					attrition = 0.5
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = ROOT
				culture = ROOT
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = 460 # Varazdin
					owner = ROOT
					leader = THIS
					match_character = ROOT
					match_mult = 0.75
					attrition = 0.5
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = ROOT
				culture = ROOT
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
					province = 460 # Varazdin
					owner = ROOT
					leader = THIS
					match_character = ROOT
					match_mult = 0.75
					attrition = 0.5
				}
			}
                    358 = {
			empire = {
				ROOT = {
					war = {
						casus_belli = unification
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
	}

	option = {
		name = ZUSK22OP2
                ai_chance = { factor = 0 }
	}

}


# Adopt Justinian
character_event = {
	id = zusk_event.24
	desc = zusk_event.24.desc
	picture = GFX_evt_monk
	border = GFX_event_normal_frame_religion
	
	trigger = {
                has_global_flag = historical_events_fall_of_rome
                NOT = { has_global_flag = justinian_adopted }
                has_landed_title = e_byzantium
		independent = yes
                year = 482
                NOT = { year = 565 }
		OR = {
                NOT = { current_heir = { dynasty = ROOT } }
                current_heir = { is_female = yes }
                     }
		NOT = { trait = pregnant }
		NOT = { any_spouse = { trait = pregnant } }
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = ZUSK24OP1
                set_global_flag = justinian_adopted
					create_random_soldier = {
                                                name = Justinian
						dynasty = ROOT
						religion = ROOT
                                                culture = roman #Actually Illyrian or Thracian
						age = 5
                                                attributes = {
	                                        martial=10
	                                        diplomacy=5
                                          	intrigue=6
                                           	stewardship=5
                                                }
                                                trait="ambitious"
	                                        trait="just"
	                                        trait="mystic"
	                                        trait="genius"
	                                        trait="midas_touched"
	                                        trait="legendary_leader"
					}
			if = {
				limit = {
					ROOT = { is_female = yes }
				}
				new_character = {
					set_mother = ROOT
                                        add_claim = e_italy #Justinains Conquests
                                        add_claim = e_north_africa
				}
			}
			if = {
				limit = {
					ROOT = { is_female = no }
				}
				new_character = {
					set_father = ROOT 
                                        add_claim = e_italy #Justinains Conquests
                                        add_claim = e_north_africa
				}
			}
			recalc_succession = yes
		}


	option = {
		name = ZUSK22OP2
                ai_chance = { factor = 0 }
	}
}

character_event = {  #Julis Nepos gets WRE
	id = zusk_event.26
	desc = zusk_event.26.desc
	
	picture = GFX_evt_heretic
	trigger = {
                character = 175110
                has_landed_title = k_dalmatia
                independent = yes
                e_wre = {
				has_holder = no
			}
	}
	
	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = OK
                  set_global_flag = julis_nepos_wre
		  primary_title = {
			  e_wre = {
				  activate_title = { title = THIS status = yes } # Otherwise grant_title doesn't work
				  grant_title = ROOT
				  copy_title_laws = PREV
			           }
		                  }
                        set_global_flag = fall_of_rome
			any_playable_ruler = {
				narrative_event = { id = zusk_event.30 }
			}
	}
}

# Ruler of the Franks decides what he wants to convert to
character_event = {
	id = zusk_event.27
	desc = zusk_event.27.desc
	
	picture = GFX_evt_heretic
	border = GFX_event_normal_frame_religion

	
	trigger = {
                has_global_flag = historical_events_fall_of_rome
                has_landed_title = k_franks
                NOT = { has_global_flag = franks_religion_flag }
                religion = germanic_pagan
		independent = yes
                year = 500
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	option = {
		name = ZUSK27OP1
                ai_chance = { factor = 50 }

                religion = nicene     
                culture = frankish    

                set_global_flag = franks_religion_flag          

		if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical
					trait = zealous
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_pagans
			}
		}		
		
		prestige = -500
		piety = -50
		
		any_courtier = {
			limit = { is_close_relative = ROOT ai = yes religion = germanic_pagan culture = old_frankish }
			religion = nicene
                        culture = frankish   
		}
		any_spouse = {
			limit = { is_close_relative = ROOT ai = yes religion = germanic_pagan culture = old_frankish }
			religion = nicene
                        culture = frankish   
		}
		random_vassal = {
			limit = {
				ai = yes
				religion = germanic_pagan
                                culture = old_frankish
			}
			religion = nicene
                        culture = frankish   
		}
		random_vassal = {
			limit = {
				ai = yes
				religion = germanic_pagan
                                culture = old_frankish
			}
			religion = nicene
                        culture = frankish   
		}
		random_vassal = {
			limit = {
				ai = yes
				religion = germanic_pagan
                                culture = old_frankish
			}
			religion = nicene
                        culture = frankish   
		}
		create_random_priest = {
			random_traits = yes
			dynasty = random
			culture = greek
			religion = nicene
			female = no
			age = 32
			attributes = {
				learning = 6
			}
		}
		new_character = {
			give_job_title = job_spiritual
		}
	}

	option = {
		name = ZUSK27OP2
                ai_chance = { factor = 20 }

                religion = arian   
                culture = frankish       

                set_global_flag = franks_religion_flag                

		if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical
					trait = zealous
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_pagans
			}
		}		
		
		prestige = -500
		piety = -50
		
		any_courtier = {
			limit = { is_close_relative = ROOT ai = yes religion = germanic_pagan culture = old_frankish }
			religion = arian
                        culture = frankish   
		}
		any_spouse = {
			limit = { is_close_relative = ROOT ai = yes religion = germanic_pagan culture = old_frankish }
			religion = arian
                        culture = frankish   
		}
		random_vassal = {
			limit = {
				ai = yes
				religion = germanic_pagan
                                culture = old_frankish
			}
			religion = arian
                        culture = frankish   
		}
		random_vassal = {
			limit = {
				ai = yes
				religion = germanic_pagan
                                culture = old_frankish
			}
			religion = arian
                        culture = frankish   
		}
		random_vassal = {
			limit = {
				ai = yes
				religion = germanic_pagan
                                culture = old_frankish
			}
			religion = arian
                        culture = frankish   
		}
		create_random_priest = {
			random_traits = yes
			dynasty = random
			culture = visigothic
			religion = arian
			female = no
			age = 32
			attributes = {
				learning = 6
			}
		}
		new_character = {
			give_job_title = job_spiritual
		}
	}

	option = {
		name = ZUSK27OP3
                ai_chance = { factor = 30 }

                set_global_flag = franks_religion_flag        

                piety = 500
			random = {
				chance = 50
				add_trait = zealous
			}
	}
}

#Avars Invade!

character_event = {
	id = zusk_event.28
	hide_window = yes

	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	is_triggered_only = yes

	option = {
		name = OK

                        c_csanad = {
			grant_title = PREV
			}

			create_character = {
				random_traits = yes
				dynasty = none
				religion = tengri_pagan
				culture = avar
				female = no
				age = 23
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = 521 # Olvia
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = avar
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = 521 # Olvia
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = avar
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = 521 # Olvia
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
                    522 = {
			kingdom = {
				ROOT = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
	}
}

#Avars come to Constantinople looking for money

narrative_event = {
	id = zusk_event.29
	title = zusk_event.29.name
	desc = zusk_event.29.desc
	
	picture = "GFX_evt_mongols"
	border = "GFX_event_narrative_frame_war"

	trigger = {
                year = 550
                NOT = { year = 600 }
		NOT = { has_global_flag = avar_arrived }
		has_global_flag = gokturk_arrived
                   496 = { 
                          owner = {
                                OR = {
				      is_liege_or_above = ROOT
				      character = ROOT
	                             }
                                  } 
                              }
		e_avar = {
			has_holder = no
		}
	}
	
	mean_time_to_happen = {
		years = 15
	}
	
        option = {
                name = ZUSK29OP1
		ai_chance = {
			factor = 90
			}

                treasury = -500

		set_global_flag = avar_arrived

                custom_tooltip = { 
				text = avar_attack_tooltip
				hidden_tooltip = {
                 
                activate_title = { title = e_avar status = yes }

                521 = {
		create_random_soldier = {
                        name = Bayan
			random_traits = no
			dynasty = random
			religion = tengri_pagan
                        culture = avar
			female = no
			age = 45
		}
		
		new_character = {

                        wealth = 500
                                     
                        add_claim = e_dacia
		
                        e_avar = {
			grant_title = PREV
			}
                        set_defacto_liege = THIS
	                
                        character_event = { id = zusk_event.28 days = 25 }

               }

               }


               }
               
               }
}

	option = {
		name = ZUSK29OP2
		ai_chance = {
			factor = 10
			}
		set_global_flag = avar_arrived
	}
}

narrative_event = {
	id = zusk_event.30
	title = zusk_event.30.name
	desc = zusk_event.30.desc
	
	picture = GFX_evt_fall_of_rome
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = ZUSK30OP1
		trigger = {
			NOT = { has_landed_title = e_byzantium }
                        NOT = { religion = germanic_pagan }
                        NOT = { religion = nicene }
                        NOT = { character = 55 }
                        NOT = { character = 93 }
                        NOT = { character = 175110 }
		}
	}
	option = {
		name = ZUSK30OP2
		trigger = {
			NOT = { has_landed_title = e_byzantium }
                        NOT = { character = 55 }
                        NOT = { character = 93 }
                        NOT = { character = 175110 }
                        religion = germanic_pagan
		}
                piety = 100
	}
	option = {
		name = ZUSK30OP3
		trigger = {
			NOT = { has_landed_title = e_byzantium }
                        NOT = { character = 55 }
                        NOT = { character = 93 }
                        NOT = { character = 175110 }
                        religion = nicene
		}
                piety = -100
	}
	option = {
		name = ZUSK30OP4
		trigger = {
                        character = 55
		}
                piety = 1000
                prestige = 1000
	}
	option = {
		name = ZUSK30OP5
		trigger = {
                        character = 93
		}
	}
	option = {
		name = ZUSK30OP6
		trigger = {
                        character = 175110
		}
                add_claim = e_italy
	}
	option = {
		name = ZUSK30OP7
		trigger = {
			has_landed_title = e_byzantium
                        NOT = { character = 55 }
                        NOT = { character = 93 }
                        NOT = { character = 175110 }
		}
			religion_authority = {
				modifier = fall_of_rome
				years = 200
			}	
                piety = -1000
		prestige = -1000
}

}

#Fall of Persia

character_event = {
	id = zusk_event.31
	hide_window = yes

	trigger = {
                e_persia = {
				has_holder = no
			}
                NOT = { has_global_flag = fall_of_persia }
		religion = zoroastrian
		controls_religion = yes
	}
	
	mean_time_to_happen = {
		days = 7
	}

	option = {
		name = OK
          
                 trigger = {
                NOT = { 
                any_playable_ruler = {
                culture = persian
                primary_title = { tier = EMPEROR }
                                     }
                      }
                           }
                        set_global_flag = fall_of_persia
			any_playable_ruler = {
				narrative_event = { id = zusk_event.32 }
			}
	}

	option = {
		name = OK
          
                 trigger = {
                any_playable_ruler = {
                culture = persian
                primary_title = { tier = EMPEROR }
                                     }
                           }
                        set_global_flag = fall_of_persia #Quiet fall of Persia, another empire for Persians exists in name to continue the legacy
	}
}

narrative_event = {
	id = zusk_event.32
	title = zusk_event.32.name
	desc = zusk_event.32.desc
	
	picture = GFX_evt_fall_of_persia
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = ZUSK32OP1
		trigger = {
                        NOT = { 
                              AND = {
                        controls_religion = yes
                        religion = zoroastrian
                                    }
                              }
			NOT = { has_landed_title = e_byzantium }
                        NOT = { has_landed_title = e_roman_empire }
                        NOT = { has_landed_title = e_wre }
                        NOT = { culture_group = altaic }
                        NOT = { culture = persian }
		}
	}
	option = {
		name = ZUSK32OP2
		trigger = {
                        OR = {
			has_landed_title = e_byzantium
                        has_landed_title = e_roman_empire
                        has_landed_title = e_wre
                             }
		}
                piety = 100
	}
	option = {
		name = ZUSK32OP3
		trigger = {
                        NOT = { 
                              AND = {
                        controls_religion = yes
                        religion = zoroastrian
                                    }
                              }
                        culture = persian
                        OR = {
                        dynasty = 1029100
                        higher_tier_than = DUKE
                        e_persia = {
                         any_previous_holder = {
				character = ROOT
                                               }
			           }
                             }
		}
                add_claim = e_persia
                prestige = -100
                piety = -100
	}
	option = {
		name = ZUSK32OP4
		trigger = {
                        NOT = { 
                              AND = {
                        controls_religion = yes
                        religion = zoroastrian
                                    }
                              }
                        culture = persian
                        NOT = { dynasty = 1029100 }
                        NOT = { higher_tier_than = DUKE }
                        NOT = {   e_persia = {
                         any_previous_holder = {
				character = ROOT
                                               }
			           }
                              }
		}
                piety = -100
                prestige = -100
	}
	option = {
		name = ZUSK32OP5
		trigger = {
                        culture_group = altaic
		}
	}
	option = {
		name = ZUSK32OP6
		trigger = {
                        controls_religion = yes
                        religion = zoroastrian
		}
			religion_authority = {
				modifier = fall_of_persia #Helps muslims convert Persia
				years = 200
			}	
                piety = -1000
		prestige = -1000
	}
}

#Fall of Constantinople

character_event = {
	id = zusk_event.33
	hide_window = yes

	trigger = {
                e_byzantium = {
				has_holder = no
			}
                NOT = { has_global_flag = fall_of_constantinople }
		religion = miaphysite
		controls_religion = yes
	}
	
	mean_time_to_happen = {
		days = 7
	}

	option = {
		name = OK
          
                 trigger = {
                e_roman_empire = {
				has_holder = no
			}
                NOT = { 
                any_playable_ruler = {
                culture_group = byzantine
                primary_title = { tier = EMPEROR }
                                     }
                      }
                           }
                        set_global_flag = fall_of_constantinople
			any_playable_ruler = {
				narrative_event = { id = zusk_event.34 }
			}
	}

	option = {
		name = OK
          
                 trigger = {
                OR = {
                        e_roman_empire = {
				has_holder = yes
			}
                any_playable_ruler = {
                culture_group = byzantine
                primary_title = { tier = EMPEROR }
                                     }
                           }
                            }
                        set_global_flag = fall_of_constantinople #Quiet fall of Constantinople, another empire for Greeks exists in name to continue the legacy
	}
}

narrative_event = {
	id = zusk_event.34
	title = zusk_event.34.name
	desc = zusk_event.34.desc
	
	picture = GFX_evt_fall_of_constantinople
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	option = {
		name = ZUSK34OP
	}
}

character_event = {
	id = zusk_event.37
	desc = zusk_event.37.desc
	picture = GFX_evt_council
	
	trigger = {
                has_global_flag = historical_events_fall_of_rome
                year = 490
                NOT = { year = 550 }
		NOT = { has_global_flag = ostrogoths_arrived }
		has_global_flag = fall_of_rome
                   496 = { 
                          owner = {
                                OR = {
				      is_liege_or_above = ROOT
				      character = ROOT
	                             }
                                  } 
                              }
		d_ostrogoths = {
			has_holder = yes
		}
	}

	mean_time_to_happen = {
		years = 1
	}

	option = {
		name = ZUSK37OP1
                trigger = {
			any_playable_ruler = {
				has_landed_title = d_ostrogoths
			}
                          }
		ai_chance = {
			factor = 90
		}
     	treasury = -50
     	set_global_flag = ostrogoths_arrived 
        custom_tooltip = { 
			text = ostrogoth_attack_tooltip
			hidden_tooltip = {
				any_playable_ruler = {
                    limit = {
                      has_landed_title = d_ostrogoths
                    }         
                 	treasury = 50
				 	character_event = { id = zusk_event.22 days = 25 }
				}
          	}
      	}
	}
	option = {
		name = ZUSK37OP2
		ai_chance = {
			factor = 10
			}
                set_global_flag = ostrogoths_arrived 
                add_claim = e_italy
	}
}

province_event = {
	id = zusk_event.38
	hide_window = yes
	
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war

	trigger = {
                year = 550
		NOT = { has_global_flag = gokturk_arrived }
                province_id = 1423
	}
	
	mean_time_to_happen = {
		years = 20
	}
	
        immediate = {
		set_global_flag = gokturk_arrived

         	activate_title = { title = e_turkestan status = yes }

		create_character = {
                        name = Bumin
			random_traits = no
			dynasty = random
			religion = tengri_pagan
                        culture = turkish
			female = no
			age = 45
		}
		
		new_character = {
			save_event_target_as = target_gokturk
                        wealth = 500

                        e_turkestan = {
			grant_title = PREV
			}
                        set_defacto_liege = THIS

                        c_fergana = {
			grant_title = PREV
			}

			create_character = {
				random_traits = yes
				dynasty = none
				religion = tengri_pagan
				culture = turkish
				female = no
				age = 23
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = turkish
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = turkish
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = turkish
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = turkish
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			
			# DoW on the province top liege
                    1425 = {
			kingdom = {
				event_target:target_gokturk = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
	}
	

        }

	option = {
		name = "EVTOPTA_TOG_1000"
	}


}

province_event = {
	id = zusk_event.39
	hide_window = yes
	
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war

	trigger = {
                year = 700
		NOT = { has_global_flag = uyghur_arrived }
                province_id = 1423
	}
	
	mean_time_to_happen = {
		years = 20
	}
	
        immediate = {
		set_global_flag = gokturk_arrived

         	activate_title = { title = e_uyghur status = yes }

		create_character = {
                        name = Qutlugh
			random_traits = no
			dynasty = random
			religion = manichean
                        culture = uyghur
			female = no
			age = 45
		}
		
		new_character = {
			save_event_target_as = target_uyghur

                        wealth = 500

                        e_uyghur = {
			grant_title = PREV
			}
                        set_defacto_liege = THIS

                        c_fergana = {
			grant_title = PREV
			}

                        add_claim = e_tartaria
                       
			create_character = {
				random_traits = yes
				dynasty = none
				religion = manichean
				culture = uyghur
				female = no
				age = 23
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = manichean
				culture = uyghur
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = manichean
				culture = uyghur
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = manichean
				culture = uyghur
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = manichean
				culture = uyghur
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			
			# DoW on the province top liege
                    1425 = {
			empire = {
				event_target:target_uyghur = {
					war = {
						casus_belli = unification
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
	}
	

        }

	option = {
		name = "EVTOPTA_TOG_1000"
	}


}

province_event = {
	id = zusk_event.40
	hide_window = yes
	
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war

	trigger = {
                year = 900
		NOT = { has_global_flag = khanid_arrived }
                province_id = 1423
	}
	
	mean_time_to_happen = {
		years = 20
	}
	
        immediate = {
		set_global_flag = khanid_arrived

         	activate_title = { title = e_khanid status = yes }

		create_character = {
                        name = Bilge
			random_traits = no
			dynasty = random
			religion = tengri_pagan
                        culture = khanid
			female = no
			age = 45
		}
		
		new_character = {
			save_event_target_as = target_khanid

                        wealth = 500

                        e_khanid = {
			grant_title = PREV
			}
                        set_defacto_liege = THIS

                        c_fergana = {
			grant_title = PREV
			}

			create_character = {
				random_traits = yes
				dynasty = none
				religion = tengri_pagan
				culture = khanid
				female = no
				age = 23
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = khanid
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = khanid
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = khanid
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = khanid
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			
			# DoW on the province top liege
                    1425 = {
			kingdom = {
				event_target:target_khanid = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
	}
	

        }

	option = {
		name = "EVTOPTA_TOG_1000"
	}


}

province_event = {
	id = zusk_event.41
	hide_window = yes
	
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war

	trigger = {
                year = 1100
		NOT = { has_global_flag = khitan_arrived }
                province_id = 1423
	}
	
	mean_time_to_happen = {
		years = 20
	}
	
        immediate = {
		set_global_flag = khitan_arrived

         	activate_title = { title = e_khitan status = yes }

		create_character = {
                        name = Yelu
			random_traits = no
			dynasty = random
			religion = tengri_pagan
                        culture = khitan
			female = no
			age = 45
		}
		
		new_character = {
			save_event_target_as = target_khitan
                        wealth = 500

                        e_khitan = {
			grant_title = PREV
			}
                        set_defacto_liege = THIS

                        c_fergana = {
			grant_title = PREV
			}

                        add_claim = e_tartaria

			create_character = {
				random_traits = yes
				dynasty = none
				religion = buddhist
				culture = khitan
				female = no
				age = 23
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = buddhist
				culture = khitan
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = buddhist
				culture = khitan
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = buddhist
				culture = khitan
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = buddhist
				culture = khitan
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			
			# DoW on the province top liege
                    1425 = {
			empire = {
				event_target:target_khitan = {
					war = {
						casus_belli = unification
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
	}
	

        }

	option = {
		name = "EVTOPTA_TOG_1000"
	}


}

# Fall of Roman Culture
character_event = {
	id = zusk_event.42
	desc = "zusk_event.42.desc"
	picture = GFX_evt_stone_church
	
	trigger = {
		NOT = { year = 800 }
                OR = {
		culture_group = west_germanic
                culture_group = central_germanic
                culture_group = east_germanic
                culture = berber_germanic
                culture = frankish
                     } 
		any_demesne_province = {
			culture = roman
		}
	}
	
	mean_time_to_happen = {
		years = 25
		modifier = {
			factor = 2
			NOT = { year = 500 }
		}
		modifier = {
			factor = 0.8
			year = 500
		}
		modifier = {
			factor = 0.6
			year = 525
		}
		modifier = {
			factor = 0.4
			year = 550
		}
		modifier = {
			factor = 1.2
			year = 580
		}
		modifier = {
			factor = 2.5
			year = 600
		}
		modifier = {
			factor = 2.5
			year = 700
		}
	}

	option = {
		name = ZUSK42OP
		random_demesne_province = {
			limit = {
				culture = roman
			}
			culture = latin
		}
	}
}

province_event = {
	id = zusk_event.43
	hide_window = yes
	
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war

	trigger = {
                year = 490
		NOT = { has_global_flag = hunas_arrived }
                province_id = 1342
	}
	
	mean_time_to_happen = {
		years = 20
	}
	
	immediate = {
		set_global_flag = hunas_arrived

         	activate_title = { title = k_hunas status = yes }

		create_character = {
                        name = Khingila
			random_traits = no
			dynasty = random
			religion = tengri_pagan #Religious conversion handled by zusk event 44
                        culture = hunas
			female = no
			age = 45
		}
		
		new_character = {
			save_event_target_as = target_khingila

                        wealth = 500

                        k_hunas = {
			grant_title = PREV
			}
                        set_defacto_liege = THIS

                        c_purushapura = {
			grant_title = PREV
			}

			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = hunas
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = hunas
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = tengri_pagan
				culture = hunas
				female = no
				age = 27
				attributes = {
					martial = 6
				}
				trait = skilled_tactician
			}
			new_character = {
				spawn_unit = {
				province = ROOT
				home = ROOT
				owner = PREV
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
				             }
					}
			
			# DoW on the province top liege
                    1191 = {
			kingdom = {
				event_target:target_khingila = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
	}
	

        }

	option = {
		name = "EVTOPTA_TOG_1000"
	}


}


# Ruler of the Hunas decides what he wants to convert to
character_event = {
	id = zusk_event.44
	desc = zusk_event.44.desc
	
	picture = GFX_evt_heretic
	border = GFX_event_normal_frame_religion

	
	trigger = {
                has_global_flag = historical_events_fall_of_rome
                has_landed_title = k_hunas
                NOT = { has_global_flag = hunas_religion_flag }
                religion = tengri_pagan
		independent = yes
                year = 500
                NOT = { year = 550 }
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	option = {
		name = ZUSK44OP1
                ai_chance = { factor = 90 }

                religion = hindu            

                set_global_flag = hunas_religion_flag

		if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical
					trait = zealous
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_pagans
			}
		}		
		
		prestige = -500
		piety = -50
		
		any_courtier = {
			limit = { is_close_relative = ROOT ai = yes }
			religion = hindu
		}
		any_spouse = {
			limit = { is_consort = no ai = yes }
			religion = hindu
		}
		create_random_priest = {
			random_traits = yes
			dynasty = random
			culture = sanskrit
			religion = hindu
			female = no
			age = 32
			attributes = {
				learning = 6
			}
		}
		new_character = {
			give_job_title = job_spiritual
		}
	}

	option = {
		name = ZUSK44OP2
                ai_chance = { factor = 1 }
		trigger = {
		any_realm_province = {
                culture = kalash
                religion = hellenic_pagan
                                      }
		}
                religion = hellenic_pagan        

                set_global_flag = hunas_religion_flag         

		random = {
				chance = 50
				add_trait = zealous
			}		
		
		prestige = -500
		piety = -50
		
		any_courtier = {
			limit = { is_close_relative = ROOT ai = yes }
			religion = hindu
		}
		any_spouse = {
			limit = { is_consort = no ai = yes }
			religion = hindu
		}
		create_random_priest = {
			random_traits = yes
			dynasty = random
			culture = kalash
			religion = hellenic_pagan
			female = no
			age = 32
			attributes = {
				learning = 6
			}
		}
		new_character = {
			give_job_title = job_spiritual
		}
	}

	option = {
		name = ZUSK44OP3
                ai_chance = { factor = 9 }
                piety = 500

                set_global_flag = hunas_religion_flag

		any_courtier = {
			limit = { is_close_relative = ROOT ai = yes }
			religion = hindu
		}
		any_spouse = {
			limit = { is_consort = no ai = yes }
			religion = hindu
		}
			random = {
				chance = 50
				add_trait = zealous
			}
	}
}

# Germanic ruler of England decides what he wants to convert to
character_event = {
	id = zusk_event.45
	desc = zusk_event.45.desc
	
	picture = GFX_evt_heretic
	border = GFX_event_normal_frame_religion

	
	trigger = {
                has_global_flag = historical_events_fall_of_rome
                has_landed_title = k_england
                NOT = { has_global_flag = england_religion_flag }
                OR = {
                culture_group = north_germanic
                culture_group = west_germanic
                culture_group = central_germanic
                     }
                religion = germanic_pagan
		independent = yes
                year = 530
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	option = {
		name = ZUSK45OP1
                ai_chance = { factor = 50 }

                set_global_flag = england_religion_flag

                religion = nicene                   

		if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical
					trait = zealous
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_pagans
			}
		}		
		
		prestige = -500
		piety = -50
		
		any_courtier = {
			limit = { is_close_relative = ROOT ai = yes }
			religion = nicene
		}
		any_spouse = {
			limit = { is_consort = no ai = yes }
			religion = nicene
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = nicene
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = nicene
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = nicene
		}
		create_random_priest = {
			random_traits = yes
			dynasty = random
			culture = greek
			religion = nicene
			female = no
			age = 32
			attributes = {
				learning = 6
			}
		}
		new_character = {
			give_job_title = job_spiritual
		}
	}

	option = {
		name = ZUSK45OP2
                ai_chance = { factor = 20 }

                religion = insular          

                set_global_flag = england_religion_flag    

		if = {
			limit = {
				trait = cynical
				NOT = { trait = zealous }
				age = 12
			}
			random = {
				chance = 60
				add_trait = sympathy_pagans
			}
		}
		if = {
			limit = {
				NOT = { 
					trait = cynical
					trait = zealous
				}
				age = 12
			}
			random = {
				chance = 50
				add_trait = sympathy_pagans
			}
		}		
		
		prestige = -500
		piety = -50
		
		any_courtier = {
			limit = { is_close_relative = ROOT ai = yes }
			religion = insular
		}
		any_spouse = {
			limit = { is_consort = no ai = yes }
			religion = insular
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = insular
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = insular
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = insular
		}
		create_random_priest = {
			random_traits = yes
			dynasty = random
			culture = romano_british
			religion = insular
			female = no
			age = 32
			attributes = {
				learning = 6
			}
		}
		new_character = {
			give_job_title = job_spiritual
		}
	}

	option = {
		name = ZUSK45OP3
                ai_chance = { factor = 5 }
		trigger = {
		any_realm_province = {
                religion = celtic_pagan
                                      }
		}
                religion = celtic_pagan       

                set_global_flag = england_religion_flag       


		random = {
				chance = 50
				add_trait = zealous
			}	
		
		prestige = -500
		piety = -50
		
		any_courtier = {
			limit = { is_close_relative = ROOT ai = yes }
			religion = celtic_pagan
		}
		any_spouse = {
			limit = { is_consort = no ai = yes }
			religion = celtic_pagan
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = celtic_pagan
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = celtic_pagan
		}
		random_vassal = {
			limit = {
				ai = yes
                                culture = ROOT
				religion = germanic_pagan
			}
			religion = celtic_pagan
		}
		create_random_priest = {
			random_traits = yes
			dynasty = random
			culture = briton
			religion = celtic_pagan
			female = no
			age = 32
			attributes = {
				learning = 6
			}
		}
		new_character = {
			give_job_title = job_spiritual
		}
	}

	option = {
		name = ZUSK45OP4
                ai_chance = { factor = 25 }

                set_global_flag = england_religion_flag

                piety = 500
			random = {
				chance = 50
				add_trait = zealous
			}
	}
}

# Fall of Constantinople, Egypt decides to carry on the legacy of Rome
narrative_event = {
	id = zusk_event.46
	title = zusk_event.46.name
	desc = zusk_event.46.desc
	
	picture = GFX_evt_fall_of_constantinople
	border = GFX_event_narrative_frame_diplomacy

	
	trigger = {
		e_byzantium = {
			has_holder = no
		}
		has_global_flag = fall_of_constantinople
		NOT = { has_global_flag = byzantine_egypt }
		k_egypt = {
			holder_scope = {
				character = ROOT
			}
		}
		prestige = 1000
		war = no
	}
	
	mean_time_to_happen = {
		years = 100

                #Negative modifiers
                modifier = {
			factor = 2
			trait = cynical
		}
                modifier = {
			factor = 1.2
			trait = slow
		}
                modifier = {
			factor = 1.2
			trait = bastard
		}
                modifier = {
			factor = 1.2
			trait = clubfooted
		}
                modifier = {
			factor = 1.2
			trait = harelip
		}
                modifier = {
			factor = 1.2
			trait = lisp
		}
                modifier = {
			factor = 1.2
			trait = stutter
		}
                modifier = {
			factor = 1.2
			trait = homosexual
		}
                modifier = {
			factor = 1.5
			trait = hunchback
		}
                modifier = {
			factor = 2
			trait = imbecile
		}
                modifier = {
			factor = 5
			trait = inbred
		}
                modifier = {
			factor = 5
			trait = kinslayer
		}
                modifier = {
			factor = 10
			trait = excommunicated
		}
                #Should be healthy
                modifier = {
			factor = 10
                        OR = {
                        trait = stressed
                        trait = depressed
                        trait = lunatic
                        trait = possessed
                        trait = ill
                        trait = pneumonic
                        trait = syphilitic
                        trait = leper
                        trait = wounded
                        trait = maimed
                        trait = infirm
                        trait = incapable
                        trait = has_tuberculosis
                        trait = has_typhoid_fever
                        trait = has_typhus
                        trait = has_bubonic_plague
                        trait = has_measles
                        trait = has_small_pox
                        }
		}
                #Positive modifiers
                modifier = {
			factor = 0.1
			trait = roman_nostalgia
		}
                modifier = {
			factor = 0.9
			trait = proud
		}
                modifier = {
			factor = 0.85
			trait = genius
		}
                modifier = {
			factor = 0.9
			trait = quick
		}
                modifier = {
			factor = 0.9
			trait = just
		}
	}
	
	option = {
		name = ZUSK46OP

                set_global_flag = byzantine_egypt

                prestige = 5000
                piety = 1000
                give_nickname = nick_the_great
                k_egypt = {
			set_name="BYZANTINE_EGYPT"
			adjective="BYZANTINE_EGYPT_ADJ"
		}
                add_claim = e_byzantium
	}
}

#Alternate fall of Rome

character_event = {
	id = zusk_event.47
	hide_window = yes

	trigger = {
                has_global_flag = historical_events_fall_of_rome
                e_wre = {
				has_holder = no
			}
                NOT = { has_global_flag = fall_of_rome }
		controls_religion = yes
		religion = miaphysite
	}
	
	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = OK
          
                 trigger = {
                e_roman_empire = {
				has_holder = no
			}
                NOT = { 
                any_playable_ruler = {
                culture_group = latin
                primary_title = { tier = EMPEROR }
                                     }
                      }
                           }
                        set_global_flag = fall_of_rome
			any_playable_ruler = {
				narrative_event = { id = zusk_event.30 }
			}
	}

	option = {
		name = OK
          
                 trigger = {
                OR = {
                        e_wre = {
				has_holder = yes
			}
                any_playable_ruler = {
                culture_group = latin
                primary_title = { tier = EMPEROR }
                                     }
                           }
                            }
                        set_global_flag = fall_of_rome #Quiet fall of rome, another empire for Latins exists in name to continue the legacy
	}
}


# Punic courtier appears at court 
character_event = {
	id = zusk_event.48
	desc = zusk_event.48_desc
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_religion
	
	prisoner = no
	only_playable = yes

	trigger = { 
                NOT = { year = 800 }
		OR = {
			culture_group = central_african
			culture = vandalic
			culture = coptic
                        culture = african_romance    
                        religion = latin_solar_pagan
                        religion = latin_solar_pagan_reformed
                         
		}
		independent = yes
	}
	
	mean_time_to_happen = {
		months = 1100

                modifier = {
                        factor = 0.9
                        NOT = { year = 490 }
                }
		modifier = {
			factor = 1.1
			year = 500
		}
		modifier = {
			factor = 1.2
			year = 525
		}
		modifier = {
			factor = 1.4
			year = 550
		}
		modifier = {
			factor = 1.8
			year = 575
		}
		modifier = {
			factor = 2
			year = 600
		}
		modifier = {
			factor = 2.5
			year = 650
		}
		modifier = {
			factor = 2.5
			year = 700
		}
		modifier = {
			factor = 2.5
			year = 750
		}
	}
	
	option = {
		name = ZUSK48OP
		create_random_steward = {
			random_traits = yes
			culture = punic
			dynasty = culture
			religion = central_african_pagan
			female = no
			age = 40
			trait = fortune_builder
			attributes = {
				stewardship = 10
			}
			flag = ai_flag_refuse_conversion
		}
		new_character = {
			add_claim = e_north_africa
		}
	}
}

# Independant Romano-Hispanic Arians convert back to Nicene
character_event = {
	id = zusk_event.49
	hide_window = yes
	
	trigger = { 
        NOT = { year = 800 }
        culture = romano_hispanic
        ai = yes
        religion = arian
	independent = yes
        any_realm_province = { #Still a sizable amount of Romano-Hispanics left within the realm
        religion = nicene
        culture = romano_hispanic }
        NOT = { trait = zealous }
        
	}
	
	mean_time_to_happen = {
		years = 1
	}
	
	option = {
		name = OK
        religion = nicene                   	
		
		any_courtier = {
			limit = { is_close_relative = ROOT }
			religion = nicene
		}
		any_spouse = {
			limit = { is_consort = no }
			religion = nicene
		}
		create_random_priest = {
			random_traits = yes
			dynasty = random
			culture = romano_hispanic
			religion = nicene
			female = no
			age = 32
			attributes = {
				learning = 6
			}
		}
		new_character = {
			give_job_title = job_spiritual
		}
	}
}

# Roman vandal prisoners, Genseric took countless romans back to Carthage as slaves during his sack of rome
character_event = {
	id = zusk_event.50
	title = zusk_event.50.name
	desc = zusk_event.50.desc
	
	picture = GFX_evt_fall_of_rome
	
    is_triggered_only = yes

	option = {
		name = ZUSK50OP

        custom_tooltip = { 
			text = vandal_slave_tooltip
        	hidden_tooltip = {          
				create_character = {
		            name="Gaudentius"
					random_traits = no
					age = 36
		            female = no                   
					religion = hellenic_pagan
					culture = roman
		            dynasty = none
		        	trait="zealous"
		            trait="ambitious"
		            trait="diligent"
				}
		        new_character = {
					imprison = yes
				}     
				create_character = {
					random_traits = yes
					age = 20
		            female = yes                   
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 19
		            female = yes                   
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 21
		            female = yes                   
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 32
		            female = yes                   
					religion = nicene
					culture = roman
		            dynasty = none
				}
		    	new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 18
		            female = yes                   
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 24         
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 35        
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 42       
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 54         
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 19         
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 12       
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 8     
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 6  
					religion = nicene
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 6  
					religion = nicene
					culture = roman
		            dynasty = none
		            female = yes
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 12
					religion = nicene
					culture = roman
		            dynasty = none
		            female = yes
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 13
					religion = nicene
					culture = roman
		            dynasty = none
		            female = yes
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 28
					religion = manichean
					culture = roman
		            dynasty = none
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 25
					religion = manichean
					culture = roman
		            dynasty = none
		            female = yes
				}
		        new_character = {
					imprison = yes
				}
				create_character = {
					random_traits = yes
					age = 23
					religion = manichean
					culture = roman
		            dynasty = none
		            female = yes
				}
		        new_character = {
					imprison = yes
				}
			}
		}
	}
}

# Dynamic Prophet appears
province_event = {
	id = zusk_event.51
	hide_window = yes
	
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war

	trigger = {
        year = 590
		NOT = { has_global_flag = bedouin_arabic_arrived }
        province_id = 1588
	}
	
	mean_time_to_happen = {
		years = 20
	}
	
    immediate = {
		set_global_flag = bedouin_arabic_arrived

 		activate_title = { title = d_islamic status = yes }

		create_character = {
            #Random name
            # occluded = yes # occluded does not work with create_character command
			random_traits = no
			dynasty = 597
			religion = islamic
            culture = bedouin_arabic
            trait = the_prophet
			female = no
			age = 45
			
			attributes = {
				martial=9
				diplomacy=9
				intrigue=7
				stewardship=9
				learning=12
			}
			
			trait="mastermind_theologian"
			trait="mystic"
			trait="zealous"
			trait="patient"
			trait="gregarious"
			trait="ambitious"
		}
		
		new_character = {
			set_graphical_culture = muhammad_culture # will set muhammadgfx, which is a workaround to occluded = yes
            wealth = 500

            d_islamic = {
				grant_title = PREV
			}
            set_defacto_liege = THIS

            c_badr = {
				grant_title = PREV
			}
 
            add_claim = e_arabia
            add_claim = e_persia
            
            character_event = { id = zusk_event.54 }
        }
    }
    option = {
		name = OK
	}
}

# Declaration of war
# ROOT is the Prophet, FROM is the province
character_event = {
	id = zusk_event.54
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		create_character = {
			random_traits = yes
			dynasty = random
			religion = islamic
			culture = bedouin_arabic
			female = no
			age = 27
			attributes = {
				martial = 6
			}
			trait = skilled_tactician
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				owner = ROOT
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
         	}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = islamic
			culture = bedouin_arabic
			female = no
			age = 27
			attributes = {
				martial = 6
			}
			trait = skilled_tactician
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				owner = ROOT
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
         	}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = islamic
			culture = bedouin_arabic
			female = no
			age = 27
			attributes = {
				martial = 6
			}
			trait = skilled_tactician
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				owner = ROOT
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
             }
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = islamic
			culture = bedouin_arabic
			female = no
			age = 27
			attributes = {
				martial = 6
			}
			trait = skilled_tactician
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				owner = ROOT
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
             }
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = islamic
			culture = bedouin_arabic
			female = no
			age = 27
			attributes = {
				martial = 6
			}
			trait = skilled_tactician
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				owner = ROOT
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
             }
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = islamic
			culture = bedouin_arabic
			female = no
			age = 27
			attributes = {
				martial = 6
			}
			trait = skilled_tactician
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				owner = ROOT
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
             }
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = islamic
			culture = bedouin_arabic
			female = no
			age = 27
			attributes = {
				martial = 6
			}
			trait = skilled_tactician
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = ROOT
				owner = THIS
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
             }
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = islamic
			culture = bedouin_arabic
			female = no
			age = 27
			attributes = {
				martial = 6
			}
			trait = skilled_tactician
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				owner = ROOT
				troops =
				{
					horse_archers = { 2700 2700 }
					light_cavalry = { 1600 1600 }
					light_infantry = { 541 541 }
					heavy_infantry = { 210 210 }
					knights = { 47 47 }
				}
				attrition = 0.25
     		}
		}
		
		# DoW on the province top liege
        719 = { #Mecca
			empire = {
				ROOT = {
					war = {
						casus_belli = unification
						target = PREVPREV # The top liege of the owner
						thirdparty_title = PREV # The de jure empire
					}
				}
			}
		}
    }

	option = {
		name = OK
	}
}

#[on_birth] Remove muhammad graphical_culture for the descendents of the Prophet
character_event = {
	id = zusk_event.52
	
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		graphical_culture = muhammadgfx
	}
	
    immediate = {
		set_graphical_culture = bedouin_arabic
    }
}

# AI Migration Event
# ROOT is the target, the event searches for a possible nation that can invade it, if it finds a suitable match then that nation declares war on the target
character_event = {
	id = zusk_event.53
	hide_window = yes
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war
	
	only_independent = yes
	only_rulers = yes
	
	trigger = {
		NOT = { year = 800 } # The migration period ended around 800
		OR = { # Possible target religion groups
			religion_group = christian
			religion = finnish_pagan
			religion = germanic_pagan
			religion = baltic_pagan
			religion = scythian_pagan
			religion = slavic_pagan
		}
		independent = yes
		is_landed = yes # Need lands to settle, so exclude mercenaries, etc.
		war = no # Ensures that the events activate correctly 	       
	}
	
	mean_time_to_happen = {
		years = 100 # Happens every 5 years or so in practice, due to MTTH being evaluated for ALL eligible rucharacters.
	}

    immediate = {
		random_playable_ruler = {
			limit = {
				ai = yes # Don't force the player to migrate
				independent = yes
				NOT = { higher_tier_than = KING } # If you are an empire, you dont migrate    
				war = no # Ensures that the events activate correctly
				NOT = {
					culture = old_frankish # Western german AI's dont migrate
					culture = old_saxon
					culture = thuringian
					culture = alamannian
					culture = burgundian
 				}
				OR = {
                    AND = {
						religion = germanic_pagan # Most germanic pagans can migrate into Christian lands
						ROOT = { religion_group = christian }
					}
					AND = {
						religion = germanic_pagan # Finnish pagans are only invaded from Germanic pagan AIs if the germans are North Germanics.
						culture_group = north_germanic
						ROOT = { religion = finnish_pagan }
					}
					AND = {
						religion = slavic_pagan # Slavic pagans can migrate into christian, germanic and baltic lands
						ROOT = {
							OR = {
								religion_group = christian
								religion = germanic_pagan
								religion = baltic_pagan
							}
						}
					}
					AND = {
						religion = tengri_pagan # Tengri pagans can migrate into christian, scythian and slavic pagans.
						ROOT = {
							OR = {
								religion_group = christian
								religion = scythian_pagan
								religion = slavic_pagan
							}
						}
					}
					AND = {
						culture = alan # Alan culture characters can migrate into Christian lands
						ROOT = { religion_group = christian }
					}
				}	  
				OR = {
					NOT = {
						distance = { # Average distance a normal nation can migrate
							who = ROOT
							value = 200
						}
					}
					AND = {
						religion = germanic_pagan # Germanic pagans can extend their distance if they and their target have a port
						any_realm_province = {
							port = yes
						}
						ROOT = {
							any_realm_province = {
								port = yes
							}
						}
						NOT = {
							distance = { # Germanic pagans can migrate further if the target they are going to is coastal
								who = ROOT
								value = 600
							}
						}
        			}
				}
			}
			war = {
				target = ROOT
				casus_belli = migration
			}
		}
	}
}

